<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../arc-icons/arc-icons.html">
<link rel="import" href="raml-tree-item-behavior.html">
<link rel="import" href="path-selector-behavior.html">
<link rel="import" href="raml-tree-item-styles.html">
<link rel="import" href="raml-resource-tree-item.html">
<link rel="import" href="raml-type-tree-item.html">
<link rel="import" href="path-selector-styles.html">

</head><body><dom-module id="path-selector-resource">
  <template>
    <style include="raml-tree-item-styles"></style>
    <style include="path-selector-styles"></style>
    <style>
    paper-item {
      white-space: nowrap;
    }

    .method-name-item {
      padding-left: 24px;
    }

    .method {
      @apply(--method-display-box);
    }

    .selected .method,
    .selected .method.get,
    .selected .method.post,
    .selected .method.put,
    .selected .method.delete,
    .selected .method.patch {
      @apply(--method-display-box-selected);
    }

    .method.get {
      @apply(--method-display-box-get);
    }

    .method.post {
      @apply(--method-display-box-post);
    }

    .method.put {
      @apply(--method-display-box-put);
    }

    .method.delete {
      @apply(--method-display-box-delete);
    }

    .method.patch {
      @apply(--method-display-box-patch);
    }

    .method-description {
      @apply(--layout-horizontal);
      @apply(--layout-center);
    }

    .method-display {
      @apply(--layout-flex);
    }
    </style>
    <template is="dom-if" if="[[opened]]">
      <div class="section-title">
        <paper-icon-button on-tap="back" class="back-button" icon="arc:arrow-back"></paper-icon-button>
        <h3>[[resourceName]]</h3>
      </div>
      <template is="dom-repeat" items="[[methods]]">
        <paper-item data-path$="[[path]].methods.[[index]]" on-tap="_selectPath" class$="method-name-item [[_computeItemSelectableClass(selectedPath, path, index)]]" title$="[[item.method]] [[item.description]]">
          <span class="indentable-content method-description">
            <span class$="[[_computeMethodClass(item.method)]]">[[item.method]]</span>
          <span class="method-display">[[item.displayName]]</span>
          </span>
        </paper-item>
      </template>
      <template is="dom-repeat" items="[[resources]]">
        <raml-resource-tree-item indent="1" indent-size="12" selected-path="[[selectedPath]]" resource="[[item]]" path="[[_computeSubresourcePath(path, index)]]" opened="[[itemsOpened]]" narrow=""></raml-resource-tree-item>
      </template>
    </template>
  </template>
  <script>Polymer({is:"path-selector-resource",behaviors:[RamlBehaviors.RamlTreeItemBehavior,RamlBehaviors.PathSelectorBehavior],properties:{resources:Array,methods:Array,itemsOpened:Boolean,resourceName:{type:String,value:function(){return"Resources"}},path:{type:String,value:function(){return""}}},_computeMethodClass:function(e){if(e){e=e.toLowerCase();var r="method ";switch(e){case"get":case"post":case"put":case"delete":case"patch":r+=e}return r}},_computeSubresourcePath:function(e,r){var t="";return e&&(t+=e+"."),t+=e+"resources."+r}});</script>
</dom-module>
</body></html>