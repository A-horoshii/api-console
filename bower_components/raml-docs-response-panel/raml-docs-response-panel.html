<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-styles/paper-styles.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-menu/paper-menu.html">
<link rel="import" href="../marked-element/marked-element.html">
<link rel="import" href="../markdown-styles/markdown-styles.html">
<link rel="import" href="../docs-parameters-table/docs-body-parameters-table.html">

</head><body><dom-module id="raml-docs-response-panel">
  <template>
    <style include="markdown-styles"></style>
    <style>
     :host {
      display: block;
      @apply(--raml-docs-response-panel);
    }

    .container {
      @apply(--layout-horizontal);
      @apply(--raml-docs-response-panel-container);
    }

    .codes {
      border-right: 1px var(--raml-docs-response-panel-codes-border-color, rgba(0, 161, 223, 0.24)) solid;
      @apply(--raml-docs-response-panel-codes-content);
    }

    .docs {
      @apply(--layout-flex);
      @apply(--paper-font-body1);
      margin-left: 16px;
      overflow: auto;
      @apply(--raml-docs-response-panel-docs-content);
    }

    .no-data-info {
      @apply(--no-info-message);
    }

    .codes paper-item {
      cursor: pointer;
    }

    .codes .green {
      color: var(--arc-status-code-color-200, rgba(56, 142, 60, 1));
    }

    .codes .green[active]:not([focused])  {
      background-color: var(--arc-status-code-bgcolor-200, rgba(56, 142, 60, 0.12));
    }

    .codes .blue {
      color: var(--arc-status-code-color-300, rgba(48, 63, 159, 1));
    }

    .codes .blue[active]:not([focused])  {
      background-color: var(--arc-status-code-bgcolor-300, rgba(48, 63, 159, 0.12));
    }

    .codes .orange {
      color: var(--arc-status-code-color-400, rgba(245, 124, 0, 1));
    }

    .codes .orange[active]:not([focused]) {
      background-color: var(--arc-status-code-bgcolor-400, rgba(245, 124, 0, 0.12));
    }

    .codes .red {
      color: var(--arc-status-code-color-500, rgba(211, 47, 47, 1));
    }

    .codes .red[active]:not([focused])  {
      background-color: var(--arc-status-code-bgcolor-500, rgba(211, 47, 47, 0.12));
    }

    .markdown-html,
    docs-body-parameters-table {
      margin-right: 12px;
    }

    </style>
    <div class="container" hidden$="[[!hasResponses]]">
      <div class="codes">
        <paper-menu selected="{{selectedResponseStatus}}" selected-attribute="active">
          <template is="dom-repeat" items="[[responses]]">
            <paper-item class$="[[_computeCodeClass(item.code)]]">[[item.code]]</paper-item>
          </template>
        </paper-menu>
      </div>
      <div class="docs">
        <section>
          <template is="dom-if" if="[[description]]">
            <marked-element markdown="[[description]]">
              <div class="markdown-html"></div>
            </marked-element>
          </template>
          <p class="no-data-info" hidden$="[[description]]">No description provided.</p>
          <docs-body-parameters-table hidden$="[[!_hasProperty(selectedResponse, 'body')]]" selected-body-type="{{selectedBodyType}}" body="[[selectedResponse.body]]"></docs-body-parameters-table>
        </section>
      </div>
    </div>
  </template>
  <script>Polymer({is:"raml-docs-response-panel",properties:{responses:Array,hasResponses:{type:Boolean,notify:!0,readOnly:!0,value:!1},selectedResponseStatus:{type:Number,value:0},selectedResponse:{type:Object,value:null,computed:"_computeSelectedResponse(selectedResponseStatus, responses.length)"},selectedBodyType:{type:Object,value:null},description:{type:String,value:"",computed:"_computeDescription(selectedResponse, selectedBodyType, selectedResponseStatus)"}},observers:["_responsesChanged(responses.*)"],_responsesChanged:function(){this.selectedResponseStatus=0,this.clear();var e=this.responses;this._setHasResponses(!(!e||!e.length)),!this.hasResponses},clear:function(){this.bodyTypes=[]},_computeSelectedResponse:function(e,s){if((e||0===e)&&s)return this.responses[e]},_hasProperty:function(e,s){return!!e&&s in e},_computeCodeClass:function(e){return e=Number(e),e!==e?"":e>=200&&e<300?"green":e>=300&&e<400?"blue":e>=400&&e<500?"orange":e>=500&&e<600?"red":void 0},_computeDescription:function(e,s){if(!e)return null;if("description"in e)return e.description;if(s&&e.body&&e.body.length)for(var t=0,n=e.body.length;t<n;t++)if(e.body[t].key===s){if(e.body[t].description)return e.body[t].description;break}return null}});</script>
</dom-module>
</body></html>