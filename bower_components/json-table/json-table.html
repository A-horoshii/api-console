<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="json-table-object.html">
<link rel="import" href="json-table-behavior.html">
<link rel="import" href="json-table-array.html">

</head><body><dom-module id="json-table">
  <template>
    <style>
    :host {
      display: block;
      @apply(--json-table);
    }

    .array-wrapper {
      @apply(--layout-horizontal);
      overflow-y: hidden;
      overflow-x: auto;
      @apply(--json-table-main-array-wrapper);
    }

    json-table-array {
      @apply(--layout-flex);
    }

    .actions-panel {
      @apply(--layout-horizontal);
      @apply(--layout-center);
      @apply(--response-raw-viewer-action-bar);
    }
    </style>
    <div class="actions-panel">
      <content select="[content-action]"></content>
    </div>
    <template is="dom-if" if="[[isArray(_renderJson)]]" restamp="true">
      <div class="array-wrapper">
        <json-table-array json="[[_renderJson]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-array>
      </div>
    </template>
    <template is="dom-if" if="[[isObject(_renderJson)]]" restamp="true">
      <json-table-object json="[[_renderJson]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-object>
    </template>
  </template>
  <script>Polymer({is:"json-table",behaviors:[ArcBehaviors.JsonTableBehavior],properties:{json:{type:Object,observer:"_jsonChanged"},_renderJson:Object,parserError:{type:Boolean,value:!1,readOnly:!0}},_jsonChanged:function(e){if(this._setParserError(!1),this.set("_renderJson",void 0),!e)return this.set("_renderJson",void 0);if("string"==typeof e)try{return e=JSON.parse(e),this._setRenderJson(e)}catch(e){return void this._setParserError(!0)}this.isArray(e)?this._setRenderJson(Array.from(e)):this._setRenderJson(Object.assign({},e))},_setRenderJson:function(e){this.async(function(){this.set("_renderJson",e)},1)}});</script>
</dom-module>
</body></html>