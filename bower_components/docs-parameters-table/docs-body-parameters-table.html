<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../marked-element/marked-element.html">
<link rel="import" href="../prism-element/prism-theme-default.html">
<link rel="import" href="../prism-element/prism-highlighter.html">
<link rel="import" href="../markdown-styles/markdown-styles.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../paper-tabs/paper-tabs.html">
<link rel="import" href="../paper-tabs/paper-tab.html">
<link rel="import" href="../paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../paper-listbox/paper-listbox.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../arc-icons/arc-icons.html">
<link rel="import" href="../iron-media-query/iron-media-query.html">
<link rel="import" href="docs-parameters-behavior.html">
<link rel="import" href="docs-parameters-table-shared-styles.html">
<link rel="import" href="structure-display.html">
<link rel="import" href="docs-json-parameters-table.html">
<link rel="import" href="docs-xml-parameters-table.html">
<link rel="import" href="docs-form-parameters-table.html">

</head><body><dom-module id="docs-body-parameters-table">
  <template>
    <style include="prism-theme-default"></style>
    <style include="markdown-styles"></style>
    <style include="docs-parameters-table-shared-styles"></style>
    <style>

    :host {
      --paper-tabs-selection-bar-color: var(--params-table-header-background-color, #00A1DF);
      --paper-tab-ink: var(--params-table-header-background-color, #00A1DF);
      display: block;
      overflow: auto;
      width: 100%;
    }

    h4 {
      padding: 0 12px;
      @apply(--docs-body-parameters-table-type-name);
    }

    paper-listbox paper-item {
      cursor: pointer;
    }

    .body-selector {
      margin: 0 12px;
    }

    .type-title {
      @apply(--layout-horizontal);
      @apply(--layout-center);
    }

    .type-title h4 {
      @apply(--layout-flex);
    }

    .toggle-button {
      color: var(--docs-body-parameters-table-toggle-icon-color, rgba(0, 0, 0, 0.54));
      transform: rotateZ(0deg);
      transition: color 0.25s linear, transform 0.3s linear;
    }

    .toggle-button.opened {
      transform: rotateZ(-180deg);
    }

    .toggle-button:hover {
      color: var(--docs-body-parameters-toggle-icon-hover-color, rgba(0, 0, 0, 0.78));
    }
    </style>
    <prism-highlighter></prism-highlighter>


    <paper-dropdown-menu label="Body type" hidden$="[[!displayBodySelector]]" class="body-selector">
      <paper-listbox class="dropdown-content" attr-for-selected="data-type" selected="{{selectedBodyType}}">
        <template is="dom-repeat" items="[[bodyTypes]]">
          <paper-item data-type$="[[item]]">[[item]]</paper-item>
        </template>
      </paper-listbox>
    </paper-dropdown-menu>

    <div class="type-title">
      <h4><span hidden$="[[!displayName]]">Type: [[displayName]]</span></h4>
      <paper-icon-button class$="toggle-button[[_computeToggleClass(structureDisplayOpened)]]" icon="arc:expand-more" on-tap="toggleOpened" title="Toggle structure display" hidden$="[[isFormUrlEncoded]]"></paper-icon-button>
    </div>

    <template is="dom-if" if="[[isJson]]">
      <docs-json-parameters-table type="[[selectedBody]]" has-type="{{hasTypeJson}}" structure-display-opened="[[structureDisplayOpened]]" narrow="[[narrow]]"></docs-json-parameters-table>
    </template>
    <template is="dom-if" if="[[isXml]]">
      <docs-xml-parameters-table type="[[selectedBody]]" has-type="{{hasTypeXml}}" structure-display-opened="[[structureDisplayOpened]]" narrow="[[narrow]]"></docs-xml-parameters-table>
    </template>
    <template is="dom-if" if="[[isFormUrlEncoded]]">
      <docs-form-parameters-table type="[[selectedBody]]" has-type="{{hasForm}}" structure-display-opened="[[structureDisplayOpened]]" narrow="[[narrow]]"><docs-form-parameters-table>
    </docs-form-parameters-table></docs-form-parameters-table></template>

    <iron-media-query query="max-width: 640px" query-matches="{{narrow}}"></iron-media-query>

  </template>
  <script>Polymer({is:"docs-body-parameters-table",behaviors:[RamlBehaviors.DocsParametersBehavior],properties:{body:Array,displayName:{type:String,computed:"_computeDisplayName(selectedBodyType, displayBodySelector, selectedBody.*)"},isJson:{type:Object,value:!1,readOnly:!0},isXml:{type:Object,value:!1,readOnly:!0},isFormUrlEncoded:{type:Object,value:!1,readOnly:!0},hasTypeJson:{type:Boolean,vealue:!1},hasTypeXml:{type:Boolean,vealue:!1},hasForm:{type:Boolean,vealue:!1},hasBody:{value:!1,type:Boolean,computed:"_computeHasBody(body)",notify:!0},bodyTypes:{type:Array,readOnly:!0,value:function(){return[]}},displayBodySelector:{type:Boolean,computed:"_computeDisplayBodySelector(bodyTypes.*)"},selectedBodyType:{type:String,notify:!0},selectedBody:{type:Object,computed:"_computeSelectedBody(selectedBodyType)"},structureDisplayOpened:{type:Boolean,value:!0},narrow:Boolean},observers:["_computeBodyTypes(body.*)","_autoHide(autoHide, hasBody)","_computeContentType(selectedBody.*)","_bodyTypesChanged(bodyTypes.*)"],reset:function(){this._setBodyTypes([]),this.selectedBodyType="",this._setIsJson(!1),this._setIsXml(!1)},_autoHide:function(e,t){e&&(t?this.removeAttribute("hidden"):this.setAttribute("hidden",!0))},_computeDisplayName:function(e,t){var o=this.selectedBody;if(!o||!e)return"";var s=o.displayName||o.name||o.type;return s===e&&t?"":s},_computeContentType:function(e){var t=e.base,o=!1,s=!1,y=!1;if(!t)return this._setIsJson(s),this._setIsXml(o),void this._setIsFormUrlEncoded(y);var n;n=t.contentType?t.contentType:t.key,n||(n="application/json"),n.indexOf("json")!==-1?s=!0:n.indexOf("xml")!==-1?o=!0:n.indexOf("x-www-form-urlencoded")!==-1?y=!0:s=!0,this._setIsJson(s),this._setIsXml(o),this._setIsFormUrlEncoded(y)},_computeHasBody:function(e){return!(!e||!e.length)},_computeBodyTypes:function(){this.reset();var e=this.body;if(e&&e.length){var t=e.map(function(e){return e.key});this._setBodyTypes(t)}},_computeDisplayBodySelector:function(){var e=this.bodyTypes?this.bodyTypes.length:0;return!!(e&&e>1)},_computeSelectedBody:function(e){var t=this.body;if(e&&t&&t.length)for(var o=0,s=t.length;o<s;o++)if(t[o].key===e)return t[o]},_bodyTypesChanged:function(){var e;this.bodyTypes&&this.bodyTypes.length&&(e=this.bodyTypes[0]),this.set("selectedBodyType",e)},toggleOpened:function(){this.structureDisplayOpened=!this.structureDisplayOpened},_computeToggleClass:function(e){var t="";return e&&(t+=" opened"),t}});</script>
</dom-module>
</body></html>