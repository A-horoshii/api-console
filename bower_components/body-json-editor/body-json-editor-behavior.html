<html><head><script>!function(e){"use strict";e.ArcBehaviors=e.ArcBehaviors||{},e.ArcBehaviors.BodyJsonEditorBehavior={properties:{value:{type:Object,notify:!0},noKey:{type:Boolean},nameSuggestions:Array,schema:Array,subPropertySchema:{type:Array,readOnly:!0},description:String,allowedTypes:{type:Array},narrow:{type:Boolean,reflectToAttribute:!0}},observers:["_schemaChanged(schema.*)","_computeChildSchema(value.name, value.type, schema.*)"],_typeIs:function(){var e=Array.from(arguments),t=e.shift();return-1!==e.indexOf(t)},_schemaChanged:function(e){var t=e.base;if(!t||!t.length)return void(this.nameSuggestions=[]);var r=[];if(t.forEach(function(e){if(e instanceof Array)for(var t=0,i=e.length;t<i;t++)-1===r.indexOf(e[t].key)&&(r[r.length]=e[t].key);else-1===r.indexOf(e.key)&&(r[r.length]=e.key)}),!r.length)return void(this.nameSuggestions=[]);this.set("nameSuggestions",r)},_onSuggestion:function(e){var t=e.detail.value,r=this._getSchemaPropery(t);if(r){var i=r.type;i&&("any"===i&&(i=""),this.set("value.type",i),"object"===i?this._fillDefaultChildren(r):"array"===i&&this._fillDefaultArrayChildren(r)),r.description?this.description=r.description:this.description=void 0}},_getSchemaPropery:function(e){for(var t,r=this.schema,i=0,a=r.length;i<a&&!t;i++){var n=r[i];if(n instanceof Array){for(var s=0,o=n.length;s<o;s++)if(n[s].key===e){t=n[s];break}}else if(r[i].key===e){t=r[i];break}}return t},_computeChildSchema:function(e,t,r){if(!t||-1===["object","array","any"].indexOf(t))return this._setSubPropertySchema(void 0);var i=r.base;if(!e)return this._setSubPropertySchema(i);var a=this._getSchemaPropery(e);return a?(a=this._generateJsonSchema(a),this._setSubPropertySchema(a)):this._setSubPropertySchema(void 0)},_generateJsonSchema:function(e){e=e||{};var t=e&&e.properties?e.properties:[];if("union"===e.type&&e.anyOf&&e.anyOf.length){var r=[];e.anyOf.forEach(function(e){e.properties&&(r[r.length]=t.concat(e.properties))}),t=r}else"array"===e.type&&(t=e.items);return t},_fillDefaultChildren:function(e){if(e&&e.properties&&e.properties.length){var t=e.properties;this.value.properties||this.set("value.properties",[]),t.forEach(function(e){if(e.key||e.name){var t=Object.assign({},e);!t.name&&e.key&&(t.name=e.key),!t.key&&e.name&&(t.key=e.name),this.push("value.properties",t)}},this)}},_fillDefaultArrayChildren:function(e){if(e&&e.items&&e.items.length){var t=e.items;this.value.items||this.set("value.items",[]),t.forEach(function(e){var t=Object.assign({},e);this.push("value.items",t)},this)}}}}(window);</script>
</head><body></body></html>